## ---- Regression Analysis and Lab. --- Lab 1 ---------------------------------------------------------------------------



## -----------------------------------------------------------------------------------------------------------------------
2 + 3
7 - 2 * 3
2^10
5 %/% 2      # 2 (%/% is a quotient operator)
5 %% 2       # 1 (%% is a remainder operator)


## -----------------------------------------------------------------------------------------------------------------------
sqrt(2)
sin(2*pi/3)
?log
log(2)
log(16, base=2)
exp(2)


## -----------------------------------------------------------------------------------------------------------------------
install.packages("ISLR2") # only once
library(ISLR2)            # everytime you restart R


## -----------------------------------------------------------------------------------------------------------------------
data(package = "ISLR2")
data(Boston)


## -----------------------------------------------------------------------------------------------------------------------
x <- 2
x + 2 
y <- log(x)
y


## -----------------------------------------------------------------------------------------------------------------------
x <- c(1, 3, 4, 5)
y <- c(2, 5, 1, 2)
z <- c(4, 3)
length(x)


## -----------------------------------------------------------------------------------------------------------------------
x[3] 
z[3]


## -----------------------------------------------------------------------------------------------------------------------
x[c(1,3)] 


## -----------------------------------------------------------------------------------------------------------------------
a <- 2:10
a
5:-3
x[2:4] # same as x[c(2,3,4)]
seq(from = 0, to = 100, by = 2)
seq(from = 0, to = 100, length.out = 11)


## -----------------------------------------------------------------------------------------------------------------------
x <- c(1,3,4,5)
y <- c(2,5,1,2)
x + y
x - y
x * y
x ^ y
exp(x)


## -----------------------------------------------------------------------------------------------------------------------
mean(x)
var(x)
summary(x)


## -----------------------------------------------------------------------------------------------------------------------
char_vec <- c("stat", "regression")
char_vec
str(x); str(char_vec)
?str

## -----------------------------------------------------------------------------------------------------------------------
x <- c(1, 3, 4, 5)
y <- c(2, 5, 1, 2)
A <- matrix(x, ncol=2) # nrow is set automatically
B <- matrix(y, ncol=2)
A; B


## -----------------------------------------------------------------------------------------------------------------------
C <- rbind(c(1,3,4,5),c(2,5,1,2))
C
cbind(c(1,3,4,5),c(2,5,1,2))
rbind(A,B)


## -----------------------------------------------------------------------------------------------------------------------
C[1, 1]
C[1,]  # same as C[1,1:4] 
C[, 1] # same as C[1:2,1] 
C[c(1, 2), 3] 


## -----------------------------------------------------------------------------------------------------------------------
A + B
A * B
A %*% B
t(A)
A
B
## -----------------------------------------------------------------------------------------------------------------------
apply(A, 1, sd) 


## -----------------------------------------------------------------------------------------------------------------------
x <- c("istj", "estj", "istp", "isfj")
y <- c(0.25, 0.15, 0.09, 0.08)
korean <- data.frame(mbti = x, percent = y)
korean
str(korean)


## -----------------------------------------------------------------------------------------------------------------------
korean$mbti
korean[,1]
korean[1:2,1] # same as korean$mbti[1:2]


## -----------------------------------------------------------------------------------------------------------------------
char.A <- c("stat", "regression")
matrix.A <- matrix(c(1, 3, 4, 5), ncol=2)
mylist <- list(char.A, matrix.A, korean)
mylist
str(mylist)


## -----------------------------------------------------------------------------------------------------------------------
mylist[[1]]
mylist[[3]][1,2] #korean[1,2]


## -----------------------------------------------------------------------------------------------------------------------
getwd() # get working directory
# setwd("your directory")


## -----------------------------------------------------------------------------------------------------------------------
data2.1 <- read.csv("ex2.1.csv", header = TRUE)


## -----------------------------------------------------------------------------------------------------------------------
class(data2.1)
str(data2.1)


## -----------------------------------------------------------------------------------------------------------------------
head(data2.1)
tail(data2.1, 3)


## -----------------------------------------------------------------------------------------------------------------------
mymean <- function(v){ # input: v (we assume that it is a vector)
  s <- sum(v)
  n <- length(v)
  return(s/n) # output: s/n
}

mymean(seq(0, 10, by=2))


## -----------------------------------------------------------------------------------------------------------------------
A <- matrix(c(1, 3, 4, 5), ncol=2)
res <- sum(apply(A, 1, sd))
res


## -----------------------------------------------------------------------------------------------------------------------
matrix(c(1, 3, 4, 5), ncol=2) |>
  apply(1, sd) |> # (1)
  sum() ->        # (2)
  res             # (3)
res

  
## -----------------------------------------------------------------------------------------------------------------------
x <- 20:30
x
x >= 25
x == 25 | x <= 21
x > 20 & x <= 30
all(x > 20 & x <= 30)
any(x > 20 & x <= 30)


## -----------------------------------------------------------------------------------------------------------------------
poo <- 0
for(i in 1:10){
  poo <- poo + i
}
poo


## -----------------------------------------------------------------------------------------------------------------------
for(i in 1:10){
  if(i %% 3 == 0){
    print("clap")
  }else{
    print(i)
  }
}


## -----------------------------------------------------------------------------------------------------------------------
dnorm(-1, mean=0, sd=1) # pdf
pnorm(-1, mean=0, sd=1) # cdf
qnorm(0.95, mean=0, sd=1) # quantile
df
rnorm(3, mean=0, sd=1) # making a random variable
set.seed(0)
rnorm(3, mean=0, sd=1)


## -----------------------------------------------------------------------------------------------------------------------
library(MASS) # MASS packages comes with R and does not require installation.
data(Boston)
head(Boston)

## -----------------------------------------------------------------------------------------------------------------------
lm.fit <- lm(medv ~ lstat, data = Boston)
lm.fit          # basic information
summary(lm.fit) # detailed information


## -----------------------------------------------------------------------------------------------------------------------
names(lm.fit)
lm.fit$coefficients
coef(lm.fit)


## -----------------------------------------------------------------------------------------------------------------------
confint(lm.fit) # confident interval
predict(lm.fit, data.frame(lstat = c(5, 10, 15)), interval="confidence")
predict(lm.fit, data.frame(lstat = c(5, 10, 15)), interval="prediction")


## -----------------------------------------------------------------------------------------------------------------------
plot(Boston$lstat, Boston$medv)
abline(lm.fit, col = "red")


## -----------------------------------------------------------------------------------------------------------------------
x <- Boston$lstat
y <- Boston$medv
n <- nrow(Boston)
Sxx <- sum((x-mean(x))^2)
Sxy <- sum((x-mean(x))*(y-mean(y)))
beta1.hat <- Sxy/Sxx
beta0.hat <- mean(y) - beta1.hat*mean(x)
beta1.hat; beta0.hat

